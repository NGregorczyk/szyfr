package dupadupa;

public class Zad5Main {


        public static String decryptVigenere(String text, String key) {
            StringBuilder decryptedText = new StringBuilder();
            int textLength = text.length();
            int keyLength = key.length();

            for (int i = 0; i < textLength; i++) {
                char currentChar = text.charAt(i);

                if (Character.isLowerCase(currentChar)) {
                    char keyChar = key.charAt(i % keyLength);
                    int shift = keyChar - 'a';
                    int originalPosition = currentChar - 'a';
                    // Odwrócenie przesunięcia przy deszyfrowaniu
                    int newPosition = (originalPosition - shift + 26) % 26;
                    char newChar = (char) ('a' + newPosition);
                    decryptedText.append(newChar);
                } else {
                    // Jeśli znak nie jest małą literą, pozostaw bez zmian
                    decryptedText.append(currentChar);
                }
            }

            return decryptedText.toString();
        }


        public static void main(String[] args) {
            // Przykładowy tekst do zaszyfrowania
            String plainText = "jestemzadowolony";

            // Przykładowy klucz szyfrujący
            String key = "szyfrant";

            // Deszyfrowanie zaszyfrowanego tekstu
            String decryptedText = decryptVigenere(plainText, key);

            // Wyświetlenie wyników
            System.out.println("Oryginalny tekst: " + plainText);
            System.out.println("Klucz szyfrujący: " + key);
           System.out.println("Odszyfrowany tekst: " + decryptedText);
        }
    }
